{
  "name": "MY-RAG",
  "nodes": [
    {
      "parameters": {
        "formTitle": "Try to upload file",
        "formFields": {
          "values": [
            {
              "fieldLabel": "File",
              "fieldType": "file",
              "multipleFiles": false,
              "acceptFileTypes": ".txt",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.2,
      "position": [
        -336,
        -128
      ],
      "id": "bf69a3d1-f008-4353-997e-e6759909564a",
      "name": "On form submission",
      "webhookId": "1fdb0183-a4d2-43da-b9be-bf8dbfe2bf1c"
    },
    {
      "parameters": {
        "mode": "insert",
        "memoryKey": {
          "__rl": true,
          "value": "=vector_store_key2",
          "mode": "id"
        },
        "clearStore": true
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        16,
        -128
      ],
      "id": "52221a31-4298-44e2-b079-c2dc11e61f43",
      "name": "Simple Vector Store"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        288,
        400
      ],
      "id": "e9f48e50-5960-4eef-808d-66e7c6e62f53",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "nJt3cBB5WfxUu31S",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "dataType": "binary",
        "textSplittingMode": "custom",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.documentDefaultDataLoader",
      "typeVersion": 1.1,
      "position": [
        240,
        32
      ],
      "id": "c19da202-c60b-4e2e-8880-a723a9716cd2",
      "name": "Default Data Loader"
    },
    {
      "parameters": {
        "content": "## Step 1. Load data from file to Vector Store\n",
        "height": 480,
        "width": 950,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -496,
        -208
      ],
      "typeVersion": 1,
      "id": "1db38c3a-aa5c-45b0-b8c1-9375b11f88d0",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        640,
        -208
      ],
      "id": "0b3f2dc2-1ac9-4901-b185-b63894ef5d39",
      "name": "When chat message received",
      "webhookId": "e68cd929-8414-4405-986b-3d83bb7a968b"
    },
    {
      "parameters": {
        "options": {
          "systemPromptTemplate": "You are an assistant for question-answering tasks. Use the following pieces of retrieved context to answer the question.\nIf you don't know the answer, just say that you don't know, don't try to make up an answer.\n----------------\nContext: {context}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainRetrievalQa",
      "typeVersion": 1.6,
      "position": [
        864,
        -208
      ],
      "id": "4e71ee1b-c493-4f30-b7d3-3ec4140f1ecc",
      "name": "Question and Answer Chain"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        784,
        0
      ],
      "id": "e21354ac-7504-41ed-997f-c2bd97f65b82",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "nJt3cBB5WfxUu31S",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.retrieverVectorStore",
      "typeVersion": 1,
      "position": [
        1008,
        0
      ],
      "id": "1d56fe5a-49cb-42a1-96a7-bd8e10731ba4",
      "name": "Vector Store Retriever"
    },
    {
      "parameters": {
        "memoryKey": {
          "__rl": true,
          "value": "=vector_store_key2",
          "mode": "id"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreInMemory",
      "typeVersion": 1.3,
      "position": [
        832,
        176
      ],
      "id": "da98f60c-f3f8-491a-9fd8-5c0485003a3f",
      "name": "Simple Vector Store1"
    },
    {
      "parameters": {
        "content": "## Step 2 :: RAG",
        "height": 608,
        "width": 976
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        528,
        -256
      ],
      "typeVersion": 1,
      "id": "69c59dde-5687-46f8-8320-ab3d3d114e3a",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "chunkSize": 50
      },
      "type": "@n8n/n8n-nodes-langchain.textSplitterCharacterTextSplitter",
      "typeVersion": 1,
      "position": [
        368,
        176
      ],
      "id": "dd463b55-a807-47b8-976a-bf1d82ec7ca4",
      "name": "Character Text Splitter"
    }
  ],
  "pinData": {},
  "connections": {
    "On form submission": {
      "main": [
        [
          {
            "node": "Simple Vector Store",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_embedding",
            "index": 0
          },
          {
            "node": "Simple Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Default Data Loader": {
      "ai_document": [
        [
          {
            "node": "Simple Vector Store",
            "type": "ai_document",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Vector Store Retriever": {
      "ai_retriever": [
        [
          {
            "node": "Question and Answer Chain",
            "type": "ai_retriever",
            "index": 0
          }
        ]
      ]
    },
    "Simple Vector Store1": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store Retriever",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Character Text Splitter": {
      "ai_textSplitter": [
        [
          {
            "node": "Default Data Loader",
            "type": "ai_textSplitter",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "161e2a83-4533-43e7-b1b8-67488f331845",
  "meta": {
    "instanceId": "c095b8954891635bdbfc24cd0c2259a787ae895013251c6f44d1a3f9836ad368"
  },
  "id": "FxAX2xjclwnHVEEu",
  "tags": []
}